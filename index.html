<body>
  <div class="box">
    <h1>Public Hackathon 2025</h1>
    <p><b>Date:</b> Tomorrow</p>
    <p><b>Mode:</b> Online</p>
    <p><b>Eligibility:</b> Open to all</p>

    <h3>About Hackathon</h3>
    <p>Build an innovative project and submit your solution to compete with other participants.</p>

    <h3>Rules</h3>
    <ul>
      <li>Project must be original.</li>
      <li>Teams allowed (max 3 members).</li>
      <li>Submission deadline: Tomorrow night.</li>
    </ul>

    <h3>Submit Your Project</h3>
    <form id="submissionForm">
      <p><b>Participant Name</b><br />
        <input type="text" id="name" required />
      </p>

      <p><b>Email</b><br />
        <input type="email" id="email" required />
      </p>

      <p><b>College / Organization</b><br />
        <input type="text" id="college" required />
      </p>

      <p><b>Project Title</b><br />
        <input type="text" id="projectTitle" required />
      </p>

      <p><b>GitHub / Code Link</b><br />
        <input type="url" id="codeLink" required />
      </p>

      <p><b>Demo Video / Live Link</b><br />
        <input type="url" id="demoLink" />
      </p>

      <p><b>Short Description</b><br />
        <textarea id="description" rows="4" required></textarea>
      </p>

      <button type="submit" class="btn">Submit Project</button>
    </form>

    <p id="statusMessage"></p>

    <h3>Contact</h3>
    <p>Email: your@email.com</p>
  </div>

  <!-- Firebase + submission script goes here -->
  <script type="module">
    // Import Firebase SDKs
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import {
      getFirestore,
      collection,
      addDoc
    } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCVx-gsOca_oPxPhAwqU6-v_OXa7uqgEhY",
      authDomain: "hackathon-2025-64a07.firebaseapp.com",
      projectId: "hackathon-2025-64a07",
      storageBucket: "hackathon-2025-64a07.firebasestorage.app",
      messagingSenderId: "21324756214",
      appId: "1:21324756214:web:2ba8ecf64544031650a8d7",
      measurementId: "G-QP9EZ6PX1P"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const form = document.getElementById("submissionForm");
    const statusMessage = document.getElementById("statusMessage");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      statusMessage.textContent = "Submitting...";
      
      const data = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        college: document.getElementById("college").value,
        projectTitle: document.getElementById("projectTitle").value,
        codeLink: document.getElementById("codeLink").value,
        demoLink: document.getElementById("demoLink").value,
        description: document.getElementById("description").value,
        submittedAt: new Date().toISOString()
      };

      try {
        await addDoc(collection(db, "submissions"), data);
        statusMessage.textContent = "✅ Submission received! Thank you.";
        form.reset();
      } catch (error) {
        console.error(error);
        statusMessage.textContent = "❌ Error submitting. Please try again.";
      }
    });
  </script>
</body>
